# spring三级缓存

> spring 为什么需要三级缓存？ 
- 大多数帖子是说为了Aop代理，具体的原因都没有解释。
- 我了解到的 普通对象和代理对象是不能同时出现在容器中的，因此一个对象需要被代理的时候，需要使用代理对象去覆盖掉之前的普通对象，意思就是从三级缓存中删除掉函数式接口，把代理对象放到一级缓存？
- 我有一个疑问点，为什么要将生成代理对象并且覆盖掉普通对象的操作封装到函数式接口里面，缓存到三级缓存呢？不能在创建bean对象的时候，再去判断此对象是否是需要去代理，然后在进行相关的操作呢

> 答
>>一句话，为了解决spring 循环依赖下的aop问题，就是解决这个的，如果没有循环依赖，二级就可以，如果没有aop二级也可以，但是要满足这两个条件，就需要三级了

>>aop情况下二级缓存会破坏spring bean生命周期

